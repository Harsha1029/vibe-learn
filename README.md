# vibe-learn

A self-hosted, static course platform. Write your lessons in markdown, define exercises in YAML, run one build command, and you get a full course site with interactive exercises, flashcards, spaced repetition, daily practice, analytics, and offline support. No backend, no database, no accounts — just static files you can host anywhere (GitHub Pages, Netlify, a USB stick, whatever). Fork it, replace the content, build, deploy.

**This is a vibe-coded project.** The entire thing — engine, content, exercises, flashcards, all of it — was generated by AI (Claude) as an experiment. I haven't audited a single line of code. I built it for fun to see how far vibe-coding could go. It seems to work, but don't trust it with anything important.

**Everything is intentionally local.** Zero backend, zero accounts, zero data collection. All progress is stored in your browser's localStorage and never leaves your machine. I don't think it's ethical to vibe-code something that handles real people's data when you haven't reviewed the code yourself.

## Available courses

| Course | Modules | Status |
|--------|---------|--------|
| **Go** | 18 modules + 4 projects | Complete |
| **C** | 18 modules + 4 projects | Scaffold (content coming soon) |
| **Kubernetes & Helm** | 22 modules + 8 projects | Hidden — content written, exercises not reviewed |
| **Rust** | 18 modules + 2 projects | Scaffold (content coming soon) |

## What you get

- **Lesson pages** rendered from markdown with syntax highlighting, side-by-side code comparisons, and callout blocks
- **Exercises** — warmups and challenges with multiple variants per exercise, shuffle to get a fresh set each time
- **Difficulty modes** — easy, mixed, balanced, progressive, or hard — controls which challenge variants you get
- **Self-rating** — rate each exercise "Got it", "Struggled", or "Had to peek" to feed the SRS scheduler
- **Concept filters** — focus practice on a specific concept within a module
- **Hints and solutions** with annotations (tips, gotchas, idioms, complexity notes)
- **Thinking timer** — configurable countdown that locks hints/solutions so you attempt the problem first
- **Flashcards** with flip/rate sessions, keyboard shortcuts, and multiple review modes (random, due, weakest)
- **Spaced repetition (SRS)** — SM-2 algorithm scheduling for both exercises and flashcards
- **Daily practice** — swipe-style sessions with smart mode selection: review due items, drill weak spots, mixed, or discover new exercises
- **Pomodoro timer** — session timer with presets (25/5, 50/10, 90/20) and break reminders
- **Streak tracking** and GitHub-style activity heatmap
- **Analytics dashboard** — weak concept report, module strength rankings, top 10 weakest exercises, rating breakdowns
- **Personal notes** on any exercise, exportable as markdown
- **10 themes** (gruvbox, solarized, everforest, OLED dark, persona 5, factorio, and more)
- **Data export/import** (all progress stored in localStorage)
- **Offline support** via service worker
- **Zero backend** — pure static site, host anywhere

## Quick start

```bash
git clone <this-repo>
cd vibe-learn
npm install        # installs marked, highlight.js, js-yaml
npm run build      # builds all courses + landing page into dist/
```

Build a single course:

```bash
npm run build:go     # builds only the Go course into dist/go/
npm run build:rust   # builds only the Rust course into dist/rust/
```

Serve `dist/` locally to test:

```bash
cd dist && python3 -m http.server 8000
```

Open `http://localhost:8000` for the course picker, or `http://localhost:8000/go/` for a specific course.

## Deploy to GitHub Pages

1. Push to a GitHub repo
2. Go to **Settings > Pages**
3. Set source to **GitHub Actions**
4. Create `.github/workflows/deploy.yml`:

```yaml
name: Deploy
on:
  push:
    branches: [main]
jobs:
  build-deploy:
    runs-on: ubuntu-latest
    permissions:
      pages: write
      id-token: write
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
      - run: npm install && npm run build
      - uses: actions/upload-pages-artifact@v3
        with:
          path: dist
      - id: deployment
        uses: actions/deploy-pages@v4
```

## Project structure

```
vibe-learn/
├── build.js                 # Multi-course build script
├── package.json             # marked, highlight.js, js-yaml, marked-highlight
│
├── courses/                 # One directory per course
│   ├── go/
│   │   ├── course.json      # Course manifest
│   │   └── content/
│   │       ├── lessons/     # Markdown files (one per module/project)
│   │       ├── exercises/   # Exercise variants (YAML)
│   │       ├── flashcards/  # Flashcard decks (YAML)
│   │       └── assets/      # Static assets (favicon, images)
│   ├── c/
│   │   ├── course.json
│   │   └── content/
│   │       ├── lessons/
│   │       ├── exercises/
│   │       ├── flashcards/
│   │       └── assets/
│   ├── k8s/
│   │   ├── course.json
│   │   └── content/
│   │       ├── lessons/
│   │       ├── exercises/
│   │       ├── flashcards/
│   │       └── assets/
│   └── rust/
│       ├── course.json
│       └── content/
│           ├── lessons/
│           ├── exercises/
│           ├── flashcards/
│           └── assets/
│
├── engine/                  # Shared platform code (don't edit for content)
│   ├── js/                  # Runtime JavaScript
│   ├── css/                 # Shared styles
│   ├── themes/              # Color themes
│   └── templates/           # HTML page templates
│
└── dist/                    # Build output (gitignored)
    ├── index.html           # Landing page (course picker)
    ├── c/                   # Full C course site
    ├── go/                  # Full Go course site
    ├── k8s/                 # Full Kubernetes & Helm course site
    └── rust/                # Full Rust course site
```

## Making your own course

### 1. Create a course directory

Create `courses/<your-slug>/course.json` with the course manifest:

```json
{
  "course": {
    "name": "Your Course",
    "slug": "your-course",
    "description": "What this course covers.",
    "storagePrefix": "your-course"
  },
  "tracks": [
    { "id": 0, "title": "Basics", "modules": [0, 1, 2] }
  ],
  "modules": [
    {
      "id": 0,
      "num": "01",
      "title": "Getting Started",
      "description": "First steps.",
      "file": "module0",
      "hasExercises": false
    }
  ],
  "projects": [],
  "annotationTypes": {}
}
```

- `storagePrefix` namespaces localStorage keys — change it per course so progress doesn't collide
- `hasExercises` controls whether the exercise renderer scripts are loaded
- `file` maps to `courses/<slug>/content/lessons/<file>.md`

### 2. Write lessons in markdown

Create `courses/<your-slug>/content/lessons/module0.md`:

```markdown
## Hello World

Here's how to get started.

### Code example

\`\`\`python
print("hello")
\`\`\`

> **Tip:** This is a callout block.
```

The build converts markdown to HTML and injects it into the page template.

### 3. Add exercises (optional)

Create `courses/<your-slug>/content/exercises/module0-variants.yaml` and set `hasExercises: true` in course.json.

Exercise YAML format:

```yaml
conceptLinks:
  Variables: "#lesson-variables"
sharedContent: {}
warmups:
  - id: w1
    title: Declare a variable
    concepts:
      - Variables
    difficulty: easy
    variants:
      - instructions: Declare an integer variable x with value 5.
        starterCode: "// your code here"
        solution: "x := 5"
        tests:
          - x == 5
challenges: []
```

### 4. Add flashcards (optional)

Edit `courses/<your-slug>/content/flashcards/flashcards.yaml`:

```yaml
"1":
  - topic: Variables
    q: What is a variable?
    a: A named storage location in memory.
```

Keys are module IDs (as strings). Each module gets an array of cards.

### 5. Build and deploy

```bash
npm run build              # builds all courses
node build.js your-slug    # builds just your course
```

The build auto-discovers courses by scanning `courses/` for directories containing a `course.json`.

## Themes

The platform ships with 10 themes, all generic (no course-specific content):

| Theme | Style |
|-------|-------|
| Default (dark) | Built into style.css |
| Light | Clean light mode |
| Gruvbox Dark | Warm retro |
| Gruvbox Light | Warm retro light |
| Solarized Dark | Ethan Schoonover's classic |
| Solarized Light | Solarized light variant |
| Everforest Dark | Soft green tones |
| Everforest Light | Soft green light |
| OLED Dark | True black background |
| Persona 5 | Red/black stylized |
| Factorio Dark | Industrial amber |

Users switch themes from a button in the sidebar. Selection persists in localStorage.

## Architecture

```
                        BUILD TIME                                    RUNTIME (browser)
 ┌──────────────────────────────────────────────────┐  ┌────────────────────────────────────────────┐
 │                                                  │  │                                            │
 │  courses/<slug>/           build.js              │  │  ┌──────────┐  ┌─────────────────────────┐ │
 │  ├─ course.json ──────┐   (marked +              │  │  │ module   │  │ Exercise Engine         │ │
 │  └─ content/          │    marked-highlight +     │  │  │ pages    │─>│                         │ │
 │     ├─ lessons/*.md ──┤    highlight.js +         │  │  │ project  │  │ course.js               │ │
 │     ├─ exercises/     │    js-yaml)               │  │  │ pages    │  │ exercise-renderer.js    │ │
 │     │  └─ module*-  ──┤                           │  │  │ (.html)  │  │ module-loader.js        │ │
 │     │     variants. ──┤                           │  │  └──────────┘  └───────────┬─────────────┘ │
 │     │     yaml        │                           │  │                            │               │
 │     ├─ flashcards/  ──┤                           │  │                            v               │
 │     │  └─ flashcards. │                           │  │  ┌────────────────────────────────────────┐│
 │     │     yaml      ──┤                           │  │  │           localStorage                 ││
 │     └─ assets/* ──────┘                           │  │  │                                        ││
 │                                                   │  │  │  <prefix>-progress                     ││
 │  engine/                                          │  │  │  <prefix>-exercise-progress             ││
 │  ├─ templates/        ┌──────────────────────┐    │  │  │  <prefix>-srs                          ││
 │  │  ├─ landing.html   │  Per-course output:  │    │  │  │  <prefix>-streaks / activity           ││
 │  │  ├─ index.html  ──>│  dist/<slug>/        │───>│  │  │  <prefix>-personal-notes               ││
 │  │  ├─ module.html ──>│  ├─ index.html       │    │  │  │  <prefix>-last-module / theme          ││
 │  │  ├─ project.html─> │  ├─ module*.html     │    │  │  └────────────────────────────────────────┘│
 │  │  ├─ flashcards. ──>│  ├─ project*.html    │    │  │       ^          ^            ^            │
 │  │  │  html           │  ├─ flashcards.html  │    │  │       │          │            │            │
 │  │  ├─ daily-      ──>│  ├─ daily-practice   │    │  │  ┌────┴───┐ ┌───┴──────┐ ┌───┴──────────┐│
 │  │  │  practice.html  │  │    .html           │    │  │  │ SRS    │ │Flashcard │ │Daily Practice││
 │  │  └─ analytics. ──> │  ├─ analytics.html   │    │  │  │ (SM-2) │ │Engine    │ │& Analytics   ││
 │  │     html           │  ├─ course-data.js   │    │  │  │srs.js  │ │flashcard-│ │daily-        ││
 │  ├─ js/14 files ─────>│  ├─ data/module*-    │    │  │  └────────┘ │engine.js │ │practice.js   ││
 │  ├─ css/style.css ───>│  │    variants.js    │    │  │             └──────────┘ │analytics.js  ││
 │  └─ themes/*.css ────>│  ├─ flashcard-data   │    │  │                          └──────────────┘│
 │                       │  │    .js             │    │  │                                          │
 │                       │  ├─ *.js (engine)    │    │  │  ┌────────────────────────────────────┐   │
 │                       │  ├─ style.css        │    │  │  │ UI layer                          │   │
 │                       │  ├─ themes/          │    │  │  │ sidebar.js    — navigation        │   │
 │                       │  └─ sw.js            │    │  │  │ theme.js      — themes + pomodoro │   │
 │  Also generates:      │                      │    │  │  │ streaks.js    — streaks + heatmap │   │
 │  dist/index.html      └──────────────────────┘    │  │  │ dashboard.js  — stats + resume    │   │
 │  (landing page)                                   │  │  │ data-backup.js— export/import     │   │
 │                                                   │  │  │ progress.js   — exercise tracking │   │
 └───────────────────────────────────────────────────┘  │  └────────────────────────────────────┘   │
                                                        └──────────────────────────────────────────┘
```

### Course discovery

The build auto-discovers courses by scanning `courses/` for subdirectories that contain a `course.json`. Drop a new folder with a manifest and content, run `npm run build`, and it appears on the site. No registration step, no config file to update.

Each `course.json` declares a `storagePrefix` (e.g., `"go-course"`) that namespaces all localStorage keys, so multiple courses coexist in the same browser without collisions. The `course-config.js` runtime helper exposes `storageKey(suffix)` which every other module uses to read/write its data (e.g., `storageKey('srs')` → `"go-course-srs"`).

A course can set `"hidden": true` in its `course.json` to be excluded from the landing page while still being built and accessible via direct URL.

### Build pipeline

`build.js` is the entire build system — a single Node script with four dependencies (marked, marked-highlight, highlight.js, js-yaml). No bundler, no framework, no transpilation. It runs once and produces a fully self-contained static site per course.

1. **Discover** — scans `courses/` for directories containing a `course.json`
2. **Parse content** — reads markdown lessons, YAML exercises (`module*-variants.yaml`), and YAML flashcards (`flashcards.yaml`)
3. **Render markdown** — converts lessons to HTML with syntax-highlighted code blocks via marked + highlight.js. A post-processor detects labeled code blocks (e.g., `*Python*` above a fenced block) and wraps consecutive labeled blocks in side-by-side comparison divs
4. **Compute sidebar order** — builds an ordered page list from modules, with projects interleaved after their `afterModule` position, followed by feature pages (flashcards, daily practice, analytics). This powers both the sidebar navigation and prev/next buttons
5. **Generate HTML** — injects rendered content into templates from `engine/templates/`: one page per module (7 templates total: landing, dashboard, module, project, flashcards, daily practice, analytics). Modules with exercises get jump-link boxes injected after the Exercises heading
6. **Compile data to JS** — converts exercise YAML to `data/module*-variants.js` (sets `window.moduleData`) and flashcards to `flashcard-data.js` (sets `window.FlashcardData`). Also generates `course-data.js` (sets `window.CourseConfig` with all module metadata, tracks, computed sidebar, and annotation types)
7. **Bundle** — copies all 14 engine JS files, CSS, theme files, and course assets into `dist/<slug>/`
8. **Service worker** — generates `sw.js` with a manifest of every file in the build, using a network-first caching strategy for offline support
9. **Landing page** — generates `dist/index.html` with a card for each non-hidden course

The output is plain HTML/CSS/JS. Host it anywhere — GitHub Pages, Netlify, S3, a USB stick, `python3 -m http.server`.

### Runtime modules

All JavaScript runs in the browser with no framework. Scripts communicate through `window` globals and localStorage. There are 14 engine JS files plus 3 build-generated data files:

**Build-generated data (per course):**

| File | What it does |
|------|-------------|
| `course-data.js` | Sets `window.CourseConfig` — module metadata, tracks, sidebar page order, annotation types, which modules have exercises |
| `data/module*-variants.js` | Sets `window.moduleData` — exercise variants (warmups/challenges), concept links, shared content for that module |
| `flashcard-data.js` | Sets `window.FlashcardData` — flashcard decks keyed by module ID |

**Engine JS (copied from `engine/js/`):**

| File | What it does |
|------|-------------|
| `course-config.js` | Reads `window.CourseConfig` and exposes `CourseConfigHelper` — provides `storageKey(suffix)` for namespaced localStorage keys, module lookups, and course metadata access |
| `module-loader.js` | On lesson pages, dynamically loads `data/module<N>-variants.js` via script injection, then fires a `moduleDataLoaded` custom event |
| `course.js` | Exercise renderer. Listens for `moduleDataLoaded`, picks variants based on difficulty mode, renders prompts/hints/solutions with a thinking timer, concept filters, and self-rating buttons |
| `exercise-renderer.js` | Shared rendering utilities — hints (progressive disclosure), solutions (syntax-highlighted with annotations), difficulty stars, test cases, and personal notes textarea |
| `progress.js` | Tracks per-exercise state in localStorage: attempted/completed, hints used, solution viewed, self-rating (got it / struggled / had to peek), last attempted timestamp |
| `srs.js` | SM-2 spaced repetition scheduler. Exposes `window.SRS` — records quality scores, computes ease factor + interval + next review date. Used by exercises, flashcards, and daily practice |
| `flashcard-engine.js` | Flashcard session manager. Builds decks filtered by module, supports random and SRS-due ordering, handles flip animation and rate interaction |
| `daily-practice.js` | Builds exercise queues from SRS data. Three modes: review (due items), discover (random new), weak (lowest ease factor). Dynamically loads module variant data as needed |
| `analytics.js` | Weak concept report. Groups SRS data by module, computes average ease factor, classifies module strength (strong/good/moderate/weak/too early), lists weakest individual exercises |
| `sidebar.js` | Navigation sidebar. Uses the `sidebarPages` array from `CourseConfig` to render module/project links plus in-page section jumps from h2 headings. Collapsible on desktop, overlay on mobile |
| `theme.js` | Theme switcher, Pomodoro session timer, and focus mode. Sets `data-theme` on the document and loads theme CSS. Also manages session timer with configurable presets (25/5, 50/10, 90/20), sound notifications, and a floating timer widget. Includes safe localStorage wrappers for environments where storage may be unavailable |
| `streaks.js` | Streak tracking and GitHub-style activity heatmap. Exposes `window.Streaks`. Increments on any exercise/flashcard activity, resets if a day is skipped, renders a 52-week calendar grid |
| `dashboard.js` | Dashboard page logic. Displays modules completed, exercises done, progress %, items due for review, current/longest streaks, and the activity heatmap. Resume button tracks last visited module |
| `data-backup.js` | Export all course localStorage keys as a single JSON file with metadata. Import from a previous export. Nuke button to wipe all data |

### Exercise flow

```
User opens module page
  -> module-loader.js injects <script> for data/module<N>-variants.js
  -> script sets window.moduleData, loader fires "moduleDataLoaded" event
  -> course.js picks up the event, renders warmups then challenges
     -> each exercise: prompt, difficulty stars, concept link to lesson section
     -> thinking timer (configurable) locks hints/solution for N seconds
     -> user expands hints (progressive: think about it -> hint -> pattern)
     -> user expands solution (syntax-highlighted code + annotations)
     -> user clicks self-rating: Got it / Struggled / Had to peek
        -> progress.js records exercise state
        -> srs.js computes next review date via SM-2
        -> streaks.js increments today's activity count
```

### Spaced repetition (SM-2)

Every exercise and flashcard gets an SRS record with: `easeFactor` (1.3–5.0), `interval` (days until next review), `repetitions`, and `nextReview` date.

Self-ratings map to SM-2 quality scores:
- **Got it** (no hints) → quality 5
- **Struggled** (no hints) → quality 4
- **Used hints** (not solution) → quality 3
- **Viewed solution** → quality 2
- **Had to peek** (self-reported) → quality 1

Items with quality < 3 reset to interval 1. The ease factor adjusts after every rating — items you struggle with come back sooner, items you know well space out further.

### localStorage schema

All keys are prefixed with the course's `storagePrefix` (e.g., `go-course-progress`). This is how multiple courses coexist without data collisions.

| Key suffix | Contents |
|------------|----------|
| `progress` | Module completion flags and last-studied timestamps |
| `exercise-progress` | Per-exercise: status, hints used, solution viewed, self-rating, last attempted |
| `srs` | Per-item SM-2 state: easeFactor, interval, repetitions, nextReview |
| `streaks` | Current streak, longest streak, last active date |
| `activity` | Daily activity counts keyed by `YYYY-MM-DD` |
| `personal-notes` | User notes per exercise (freeform text) |
| `last-module` | Last visited module ID (for the resume button) |
| `theme` | Selected theme name (shared across courses) |

### Service worker

Generated at build time with a versioned cache name and a manifest of every file in the build output. Uses a network-first strategy: always tries to fetch fresh content, falls back to cache when offline. On activation, deletes all previous cache versions and claims all open tabs.

## Contributing

Since I haven't audited the code, I will most likely not accept pull requests unless it's something simple (typo fix, small bug fix, etc). Nothing personal — I just can't review code I don't fully understand myself. You're welcome to fork it and make a billion dollars though.

## Disclaimer

This is a fun experiment, not production software. The AI probably introduced bugs, bad patterns, or subtle issues I haven't noticed because I haven't read the code. If you learn something from the course content, great. If you find something broken, that's the vibe-coding experience.

## License

Do whatever you want with it.
