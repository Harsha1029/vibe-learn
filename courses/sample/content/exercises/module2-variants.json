{
  "conceptLinks": {
    "Variant Structure": "#lesson-the-variant-system",
    "JSON Format": "#lesson-exercise-json-structure",
    "Self-Rating": "#lesson-self-rating-srs",
    "Daily Practice": "#lesson-daily-practice"
  },
  "sharedContent": {},
  "variants": {
    "warmups": [
      {
        "id": "warmup_1",
        "concept": "Variant Structure",
        "variants": [
          {
            "id": "v1",
            "title": "Exercise ID Format",
            "description": "What is the SRS key format for a warmup exercise? Given module 3, warmup_2, variant v1, what would the key be?",
            "hints": [
              "The format is <code>m{moduleNum}_{exerciseId}_{variantId}</code>.",
              "Module 3, warmup_2, v1 would be..."
            ],
            "solution": "m3_warmup_2_v1",
            "annotations": [
              { "type": "tip", "label": "SRS Keys", "text": "The SRS system uses these keys to track each variant independently. Every variant gets its own ease factor and review interval." }
            ]
          },
          {
            "id": "v2",
            "title": "Variant File Naming",
            "description": "What should the exercise file be named for module 5?",
            "hints": [
              "The pattern is <code>moduleN-variants.json</code>."
            ],
            "solution": "module5-variants.json",
            "annotations": []
          }
        ]
      },
      {
        "id": "warmup_2",
        "concept": "JSON Format",
        "variants": [
          {
            "id": "v1",
            "title": "Minimum Exercise Fields",
            "description": "What are the minimum required fields for a single variant object?",
            "hints": [
              "Every variant needs an <code>id</code>, <code>title</code>, <code>description</code>, and <code>solution</code>.",
              "<code>hints</code> and <code>annotations</code> are optional."
            ],
            "solution": "{\n  \"id\": \"v1\",\n  \"title\": \"My Exercise\",\n  \"description\": \"What to do.\",\n  \"solution\": \"The answer.\"\n}",
            "annotations": [
              { "type": "note", "label": "Optional Fields", "text": "<code>hints</code> is an array of strings. <code>annotations</code> is an array of objects with <code>type</code>, <code>label</code>, and <code>text</code>. Both are optional." }
            ]
          },
          {
            "id": "v2",
            "title": "Concept Links",
            "description": "What does the <code>conceptLinks</code> object at the top of a variant file do?",
            "hints": [
              "It maps concept names to anchor links in the lesson.",
              "The exercise renderer shows these as \"Review this concept\" links."
            ],
            "solution": "conceptLinks maps concept names to lesson anchors.\nExample:\n{\n  \"conceptLinks\": {\n    \"Variables\": \"#lesson-variables\",\n    \"Functions\": \"#lesson-functions\"\n  }\n}",
            "annotations": []
          }
        ]
      }
    ],
    "challenges": [
      {
        "id": "challenge_1",
        "concept": "Daily Practice",
        "variants": [
          {
            "id": "v1",
            "title": "Practice Mode Selection",
            "description": "A user has 12 exercises due for SRS review and 4 weak exercises. Which daily practice mode should the system auto-select, and why?",
            "hints": [
              "The auto-select logic checks: due >= 5 → review, weak >= 3 → weakest, any remaining → mixed, nothing → discover.",
              "12 due exercises is >= 5."
            ],
            "solution": "Review mode.\n\nThe auto-select logic picks 'review' when there are 5 or more exercises due for SRS review. With 12 due, that threshold is met. The user should review what's due before tackling weak spots.",
            "annotations": [
              { "type": "tip", "label": "Mode Priority", "text": "The priority order is: Review → Weakest → Mixed → Discover. This ensures users handle due items first, then weak spots, then new material." }
            ]
          },
          {
            "id": "v2",
            "title": "SRS Rating Effects",
            "description": "A user rates an exercise as \"Had to peek\" three times in a row. Describe what happens to the SRS scheduling for that exercise.",
            "hints": [
              "\"Had to peek\" resets the interval.",
              "The ease factor decreases with each poor rating.",
              "The exercise will keep appearing frequently."
            ],
            "solution": "Each \"Had to peek\" rating:\n1. Resets the review interval to 1 day\n2. Decreases the ease factor (making future intervals shorter)\n3. The exercise will appear in every daily practice session\n\nAfter three consecutive poor ratings, the ease factor will be near its minimum (1.3). Even when the user eventually gets it right, the intervals will grow slowly due to the low ease factor.",
            "annotations": [
              { "type": "tip", "label": "SM-2 Algorithm", "text": "The ease factor has a minimum of 1.3 to prevent intervals from getting impossibly short. A single \"Got it\" rating starts recovering the ease factor." }
            ]
          }
        ]
      }
    ]
  }
}
